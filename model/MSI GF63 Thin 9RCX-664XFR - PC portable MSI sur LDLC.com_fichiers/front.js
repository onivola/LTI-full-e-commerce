var screenxs=479,screensm=768,screenmd=992,screenlminus=1023,screenl=1024,screenlg=1200,sliderActive=!1,slider=null,productbloc=$(".product-bloc"),main=$(".main"),list=$(".listing"),result=$(".result"),slider1=$(".slider-1"),review=$(".review-listing"),odr=$(".main.odr"),shop=$(".main.shop-home"),faq=$(".main.faq"),config=$(".main.configurateur .configurateur-head .saved-config"),bxConfig,headerH,offsetTab;function front(){if(locationHashNewsletter(),productbloc.length){function e(){return $("#productphoto").find(".zoom ul li.special").remove(),slider=$("#productphoto").find(".zoom ul").bxSlider({adaptiveHeight:!1,swipeThreshold:40,controls:!1,auto:!0,pause:6e3,autoHover:!0,infiniteLoop:!1}),!0}window.innerWidth<=screenlminus&&(sliderActive=e()),$(window).resize(function(){window.innerWidth<=screenlminus&&0==sliderActive?sliderActive=e():window.innerWidth>screenlminus&&1==sliderActive&&(slider.stopAuto(),slider.destroySlider(),sliderActive=!1,setTimeout(function(){$(".zoom ul, .zoom ul li").removeAttr("style")},200))});new Swiper(".swiper-product .swiper-container",{speed:250,slidesPerView:1,slidesPerGroup:1,autoplay:{delay:6e3},spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!0}})}if(shop.length){function e(){return $("#productphoto").find(".zoom ul li.special").remove(),slider=$("#productphoto").find(".zoom ul").bxSlider({adaptiveHeight:!1,swipeThreshold:40,controls:!1,auto:!0,pause:6e3,autoHover:!0,infiniteLoop:!1}),!0}new Swiper(".swiper-container",{speed:250,loop:!0,autoplay:{delay:6e3},spaceBetween:30,pagination:{el:".swiper-pagination",clickable:!0}})}if(faq.length){new Swiper(".swiper-container",{speed:250,loop:!0,autoplay:{delay:6e3},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});$("label").hasClass("required")&&$("label input[type=radio]")&&$(".radio").prev("label").append("<sup>*</sup>")}if(config.length&&initSwiperConfig(),$(".alert a").on("click",function(){$("#descriptif").parents(".detail").find("ul").addClass("active")}),$(".more-information").length&&($(".more-information .read-more").each(function(){$(this).find(".hidden-text").outerHeight()>$(this).outerHeight()?$(this).parent().find(".more").show():$(this).parent().find(".more").remove()}),$(".more-information").find(".more").on("click",function(e){e.preventDefault(),$(this).parent().find(".read-more").addClass("open"),$(this).remove()})),$(".list-cat").length&&($(".list-cat").find(".toggle-list span.icon").on("click touchstart",function(e){0!==$(e.target).parents("li").find(".list").length&&(e.preventDefault(),$(this).parents("li").toggleClass("open").siblings().removeClass("open"))}),$(document).on("click touchstart",function(e){$(e.target).closest("ul li a").length||0!=$(e.target).parents("header").length||($(e.target).parents().hasClass("open")||$(".list-cat>li").removeClass("open"))})),$("#formReview").length){var t=!1,i=!1,n=!1,o=!1;function s(){i&&n&&t&&o?$("#formReview .button").attr("disabled",!1):$("#formReview .button").attr("disabled","disabled")}$("#formReview input[type=checkbox]").click(function(){(o=$(this).is(":checked"))?$("#formReview .checkbox").removeClass("required"):$("#formReview .checkbox").addClass("required"),s()}),$("#formReview input[type=hidden]").change(function(){t=!0,$(this).parents(".review-note").removeClass("error"),s()}),$("#formReview input, #formReview textarea").keyup(function(){$("#formReview .review-title input").each(function(){0==$(this).val().length?i=!1:(i=!0,$(this).removeClass("required")),s()}),$("#formReview textarea").each(function(){var e=$("#formReview textarea").attr("minlength");$(this).val().length>=e?(n=!0,$(this).removeClass("required")):n=!1,s()})}),$("#formReview .button[disabled]").on("click",function(e){return 0==t&&$(".review-note").addClass("error"),0==i&&$("#formReview .review-title input").addClass("required"),0==n&&$("#formReview textarea").addClass("required"),0==o&&$("#formReview .checkbox").addClass("required"),!1})}if(slider1.length&&slider1.each(function(){$(this).bxSlider({pager:!1})}),$(".component-list").length&&$(".title-3").on("click",function(){if(window.innerWidth<=screensm){var e=$(this);e.parent().find(".content").slideToggle(),e.parents("li").toggleClass("open").siblings().removeClass("open"),e.parents("li").siblings().find(".content").slideUp()}}),$(".configurateur aside").length&&($(window).width()>=screenl&&initRecapPos(),$(window).resize(function(){$(window).width()>=screenl?(initRecapPos(),updateRecapPos(),updateRecapHeight()):$(".recap").removeAttr("style").removeClass("fixed")}),$(document).on("click","a.toggle-filter",function(){$(this).parent().find(".wrap").slideToggle()}),$("body").on("click",".filters .filter > h2, .filters .filter > label",function(){if($(window).width()<=screensm){var e=$(this).parents(".filter"),t=e.find(".bloc");e.toggleClass("open"),t.slideToggle("300"),setTimeout(function(){fixButtons()},350)}}),sliderConfig()),$(".configurateur .configurateur-head").length&&$(window).width()<=screensm){var a=$(".slider-config ul");$(".slider-config li.active").length||$(".slider-config ul li:first-child").addClass("active"),$(document).on("click",".slider-config  .active",function(e){e.preventDefault(),$(e.target).hasClass("item")&&$(this).closest("ul").children("li:not(.active)").toggle()});var r=a.children("li:not(.active)");$(document).on("click",".slider-config  li:not(.active)",function(e){e.preventDefault(),r.removeClass("selected"),$(this).addClass("selected"),a.children(".active").html($(this).html()),r.toggle()})}$(".SaveUserConfig").on("shown.bs.modal",function(e){$(this).find("input").focus()}),$(".sitemap").length&&$("a.trigger").on("click",function(e){e.preventDefault();var t=$(this).parent(),i=t.find("ul:first");t.toggleClass("open"),i.stop().slideToggle("fast")})}function initSwiperConfig(){new Swiper(".swiper-container",{speed:250,slidesPerView:4,slidesPerGroup:1,touchRatio:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});$(".swiper-wrapper > .swiper-slide").click(function(){$(".swiper-slide").removeClass("active"),$(this).addClass("active")})}function sliderConfig(){var i;$(".slider-config ul li").length<=4&&$("button.right").addClass("disabled"),$(document).on("click","button.right",function(e){i=$(".slider-config ul"),iWidth=i.find("li").outerWidth(),moveX=iWidth-2;var t=i.prop("scrollLeft")+4*iWidth;e.preventDefault(),t>=i.prop("scrollWidth")-iWidth&&$("button.right").addClass("disabled"),i.stop(!0,!0).animate({scrollLeft:"+="+moveX+"px"},"fast"),$("button.left").removeClass("disabled")}),$(document).on("click","button.left",function(e){i=$(".slider-config ul"),e.preventDefault(),i.scrollLeft()<=moveX&&$("button.left").addClass("disabled"),i.stop(!0,!0).animate({scrollLeft:"-="+moveX+"px"},"fast"),$("button.right").removeClass("disabled")}),$(window).resize(function(){4<=$(".slider-config ul li").length&&setTimeout(function(){$(".slider-config ul").animate({scrollLeft:0},"fast"),$("button.left").addClass("disabled"),$("button.right").removeClass("disabled")},300)}),sliderConfigGen(),$(document).on("click",".bx-slider-config ul > li > a",function(e){e.preventDefault(),$(".bx-slider-config ul > li").removeClass("active"),$(this).parent().addClass("active");e=$(this).parent().index();$("select.select-config-xs option:eq("+e+")").prop("selected",!0),$("select.select-config-xs").trigger("change")}),$(document).on("click",".swiper-container-config .swiper-wrapper > .swiper-slide > a",function(e){e.preventDefault(),$(".swiper-container-config .swiper-wrapper > .swiper-slide").removeClass("active"),$(this).parent().addClass("active");e=$(this).parent().index();$("select.select-config-xs option:eq("+e+")").prop("selected",!0),$("select.select-config-xs").trigger("change")}),$("select.select-config-xs").change(function(){0<$(".xs-selector .setting:hidden").length&&$(".xs-selector .setting").show();var e=$("option:selected",this).index();$(".bx-slider-config ul > li").removeClass("active"),$(".bx-slider-config ul > li:eq("+e+")").addClass("active")}),$("select.select-config-xs").change(function(){0<$(".xs-selector .setting:hidden").length&&$(".xs-selector .setting").show();var e=$("option:selected",this).index();$(".swiper-container-config .swiper-wrapper > .swiper-slide").removeClass("active"),$(".swiper-container-config .swiper-wrapper > .swiper-slide:eq("+e+")").addClass("active")}),$(document).on("click",".xs-selector .setting",function(){})}function goToActiveConfig(){var e=$(".bx-slider-config li.active").index(),t=Math.ceil(e/4);bxConfig.goToSlide(t)}function sliderConfigGen(){var e=$(".bx-slider-config");e.length&&e.each(function(){$(this).hasClass("slide-config")||$(this).find("ul").each(function(){var t=$(this),e=!1,i=!1;function n(e){return 5<t.find("li").length&&(bxConfig=t.bxSlider({minSlides:4,maxSlides:5,slideWidth:e,slideMargin:0,moveSlides:2,pager:!1,hideControlOnEnd:!0,infiniteLoop:!1})),!0}function o(){t.parent().hasClass("bx-viewport")&&t.destroySlider(),i=e=!1}window.innerWidth>screenlg?(n(128),i=!0):window.innerWidth<=screenlg&&(n(118),e=!0),setTimeout(function(){$(window).resize(function(){setTimeout(function(){window.innerWidth>screenlg?!1===i&&(o(),n(128),i=!0):window.innerWidth<=screenlg&&!1===e&&(o(),n(118),e=!0)},100)})},300)}),$(this).addClass("slide-config")})}function toggleCompareZone(e){"show"===e?($(".compare-zone").css({bottom:"0px",opacity:1}),$(".listing").addClass("maxi")):($(".compare-zone").css({bottom:"-80px",opacity:0}),$(".listing").removeClass("maxi"))}function fixButtons(){var e=$(".filter-review .align-left .content");e.outerHeight()>=$(window).height()?e.addClass("fixed"):e.removeClass("fixed")}function listing(){if(list.length||result.length){var t=$(".main");($(".compare-wrap").length||$(".wrap-submit").length)&&$(document).scroll(function(){}),$(document).on("click",".main .filter-button",function(e){e.preventDefault(),t.find(".wrap-aside").addClass("open"),$("html").addClass("no-overflow"),t.find(".wrap-aside").slideDown("slow"),fixButtons()}),$(document).on("click",".main aside .close",function(e){e.preventDefault(),t.find(".wrap-aside").removeClass("open"),$("html").removeClass("no-overflow"),t.find(".wrap-aside").slideToggle("slow")}),$(document).on("click",".main aside .btn-close",function(e){$("html").removeClass("no-overflow"),t.find(".wrap-aside").slideToggle("slow")}),$("body").on("click",".main .filter > label, .main .filter > h2",function(){if($(window).width()<screenl){var e=$(this).parents(".filter"),t=e.find(".bloc");e.toggleClass("open"),t.slideToggle("300"),setTimeout(function(){fixButtons()},350)}}),$("body").on("click",".main .filters .more-filter button",function(){if($(window).width()>screenmd){var e=$(this).closest(".more-filter"),t=e.find(".bloc-filters");e.toggleClass("open");var i=e.hasClass("open")?"data-less-filters":"data-more-filters";$(this).html($(this).attr(i)),$(this).attr("data-more-filter-opened",e.hasClass("open")),t.slideToggle("300"),setTimeout(function(){fixButtons()},350)}}),$(window).resize(function(){window.innerWidth<=screenlminus&&$(".product-listing aside .wrap-buttons").length&&fixButtons()})}}function filterReview(){review.length&&($(".filter-button-wrap a").on("click",function(e){e.preventDefault(),review.find(".filter-review .align-left").addClass("open"),$("html").addClass("no-overflow"),fixButtons()}),review.find(".filter-review .align-left .close").on("click",function(e){e.preventDefault(),review.find(".filter-review .align-left").removeClass("open"),$("html").removeClass("no-overflow")}),$(window).resize(function(){window.innerWidth<=screenlminus&&fixButtons()}))}function filterODR(){odr.length&&($(document).on("click",".main .filter-button",function(e){e.preventDefault(),odr.find(".wrap-aside").addClass("open"),$("html").addClass("no-overflow"),odr.find(".wrap-aside").slideDown("slow"),fixButtons()}),$(document).on("click",".main aside .close",function(e){e.preventDefault(),odr.find(".wrap-aside").removeClass("open"),$("html").removeClass("no-overflow"),odr.find(".wrap-aside").slideToggle("slow")}),$(document).on("click",".main aside .btn-close",function(e){$("html").removeClass("no-overflow"),odr.find(".wrap-aside").slideToggle("slow")}),$("body").on("click",".odr .filters .filter h2",function(){if($(window).width()<=screenlminus){var e=$(this).parents(".filter"),t=e.find(".bloc");e.toggleClass("open"),t.slideToggle("300"),setTimeout(function(){fixButtons()},350)}}))}function productPage(){$(".specsTech .checkbox input").on("click",function(){var e=$(this).parent();$(this).is(":checked")?(e.addClass("active"),$(".wrap-compare-product").addClass("active").removeClass("hidden")):(0===$(".specsTech").find(".checkbox input:checked").length&&$(".wrap-compare-product").removeClass("active").addClass("hidden"),e.removeClass("active"))}),$(window).scroll(function(){$(".specsTech").length&&($(".specsTech").isOnScreen()?$(".wrap-compare-product").removeClass("hidden"):$(".wrap-compare-product").addClass("hidden"))})}function locationHashChanged(){var e=window.location.hash,t=getActiveLink();if(null!=t&&$(document).find(e).length&&$(".tab-pane"+e).length&&e.toUpperCase()!==t.toUpperCase()){var i=$(".tab-pane"+e);i.siblings().removeClass("active");var n=i.attr("id");window.location.hash=n,i.toggleClass("active"),headerH=$("header").outerHeight()+$(".wrap-search").outerHeight(),offsetTab=i.offset().top-headerH-10,i.parents().find('[href="#'+n+'"]').tab("show")}}function locationHashNewsletter(){var e=window.location.hash;"#newsletterForm"==e&&(target=$(e),$("html, body").stop().animate({scrollTop:target.offset().top-135},1e3))}function getActiveLink(){var e;return $(".nav-tabs li").each(function(){if($(this).hasClass("active"))return e=$(this).find("a").attr("href"),!1}),e}function ActiveTab(e){if(e.parents().hasClass("active")&&window.innerWidth<=screensm)e.parents(".tab-pane").removeClass("active");else{$(".tab-pane").siblings().removeClass("active");var t=e.parents(".tab-pane").attr("id");e.parents(".tab-pane").addClass(" active"),$('.nav-tabs a[href="#'+t+'"]').tab("show"),$(".nav-tabs .active").siblings().removeClass("active")}}function urlMatch(){var e=document.location.toString();e.match("#")&&($('.nav-tabs a[href="#'+e.split("#")[1]+'"]').tab("show"),$(".nav-tabs .active").siblings().removeClass("active"))}var $get=function(e){return document.getElementById(e)};function switchZoom(containerName,index,enableLink){var hZoomList=eval(containerName);if(hZoomList){var hImage=$get(containerName+"_ImgProduct");if(hImage.src=hZoomList[index].Image,enableLink){var hLink=$get(containerName+"_hplZoom");hLink.href=hZoomList[index].Url}}if(enableLink){for(var i=0;i<hZoomList.length;i++)img=document.getElementById("liZoom_"+i),"vignette selected"==img.className&&(img.className="vignette");var img=document.getElementById("liZoom_"+index);img.className="vignette selected"}return!1}function checkOffset(e,t,i){var n=$("footer"),o=main.innerHeight()-main.height();$(e).offset().top+$(e).height()>=n.offset().top-t&&(1==i?$(e).addClass("sticky").css("top",n.offset().top-$(e).outerHeight()-o-$(".product-listing").offset().top):$(e).addClass("sticky").css("top",n.offset().top-$(e).outerHeight())),$(document).scrollTop()+window.innerHeight<n.offset().top&&$(e).removeClass("sticky").css("top","auto")}function initRecapPos(){updateRecapHeight();var i=$(".recap"),n=$(".configurateur .elements ul").offset().top,o=$(document).height()-$("footer").height()-i.height()-$("header").height()-22;$(window).scroll(function(e){if($(window).width()>=screenl){var t=$(this).scrollTop();n-70<=t?(i.addClass("fixed"),i.css({top:70,bottom:"auto"}),updateRecapPos(),o<=t&&i.css({top:"auto",bottom:$("footer").height()-($(document).height()-t-$(window).height())+15})):$(".recap").removeClass("fixed")}})}function fixRecap(){var e=$(".recap"),t=$(".configurateur .elements ul").offset().top,i=$(this).scrollTop();$(document).height(),$("footer").height(),e.height(),$("header").height();t-70<=i&&(e.addClass("fixed"),e.css({top:70,bottom:"auto"})),fixPos()}function fixPos(){var e=$("footer").offset().top,t=$(".recap").offset().top,i=$(".recap").height(),n=$("#component-section li").last().offset().top;e<=t+i+50&&($(".recap").offset({top:n-i+170}),$("footer").css("margin-top","15px"))}function updateRecapHeight(){var e=$(window).height()-($("header").outerHeight()+$(".recap .title-2").outerHeight(!0)+$(".bottom-recap").outerHeight()+15);$(".recap ul").css("max-height",e)}function updateRecapPos(){var e=$("aside").offset().left+14,t=$("aside").width();$(".recap").css({left:e,width:t})}function homeSwiper(){var e=new Swiper(".gallery-thumbs",{speed:250,slidesPerView:6,watchSlidesVisibility:!1,parallax:!1}),t=new Swiper(".gallery-top",{speed:250,slidesPerView:1,loop:!0,preloadImages:!0,loopedSlides:6,autoplay:{delay:6e3},thumbs:{swiper:e}});function i(e){$("body").stop().css("background-color",e)}e.removeSlide(6,7,8,9,10),t.removeSlide(6,7,8,9,10),i($(".home-swiper .gallery-top .swiper-slide:first-child").data("bg")),t.on("transitionStart",function(){i($(".home-swiper .gallery-top .swiper-slide-active").data("bg"))}),$(".swiper-container").mouseenter(function(){t.autoplay.stop()}),$(".swiper-container").mouseleave(function(){t.autoplay.start()})}function homeSlider(){n($(".h-slide li:first-child").data("bg"));var e,i,t={controls:!1,pager:!1,speed:250,auto:!0,stopAutoOnClick:!0,autoHover:!0,autoStart:!0,pause:6e3,onSliderLoad:function(e){$(".h-slide").addClass("slider");var t=$(this).find("li:not(.bx-clone)").eq(e);t.data("bg")&&n(t.data("bg"))},onSlideBefore:function(e,t,i){e.data("bg")&&n(e.data("bg")),$(window).width()>=screenl&&($(".thumb li a").removeClass("active"),$(".thumb li").eq(i).find("a").addClass("active"))}};function n(e){$("body").stop().css("background-color",e)}i=$(".h-slide .bxslider").bxSlider(t),$(document).on("click",".thumb a",function(e){if(!$(this).hasClass("active")){e.preventDefault(),$(".thumb a.active").removeClass();var t=$(this).data("slide-index");i.stopAuto(),i.goToSlide(t),$(this).addClass("active")}}),$(".h-slide").length&&$(window).scroll(function(){clearTimeout(e),e=setTimeout(function(){isScrolledIntoView($(".wrap-slider"))?i.startAuto():i.stopAuto()},500)});var o,s=$(".h-slide");s.on("mousedown",function(e){o=(new Date).getTime()}),s.on("mouseleave",function(e){o=0}),s.on("click",function(e){(new Date).getTime()>=o+100&&e.preventDefault()})}function isScrolledIntoView(e){var t=$(e),i=$(window),n=i.scrollTop(),o=n+i.height(),s=t.offset().top;return s+t.height()<=o&&n<=s}function toggleIconFavoriteShop(e){e.toggleClass("shop-favorite")}if($.fn.isOnScreen=function(){var e=$(window),t={top:e.scrollTop(),left:e.scrollLeft()};t.right=t.left+e.width(),t.bottom=t.top+e.height();var i=this.offset();return i.right=i.left+this.outerWidth(),i.bottom=i.top+this.outerHeight(),!(t.right<i.left||t.left>i.right||t.bottom<i.top||t.top>i.bottom)},$(function(){($(".nav-tabs").length||$(".tab-content").length)&&(0==$(this).find("nav-tabs li.active").length&&$(window).width()>screensm&&($(this).find(".nav-tabs li:first-child").addClass("active"),$(this).find(".tab-content .tab-pane:first-child").addClass("active")),urlMatch(),$(".faq .nav-tabs a").on("click",function(e){window.location.hash=e.target.hash}),$(".title-1").on("click",function(){window.innerWidth<=screensm&&(ActiveTab($(this)),headerH=$("header").outerHeight()+$(".wrap-search").outerHeight(),offsetTab=$(this).offset().top-headerH-10,$("html, body").stop().animate({scrollTop:offsetTab}))})),window.onhashchange=locationHashChanged,front(),listing(),productPage(),filterReview(),filterODR()}),$('input[required="required"], textarea[required="required"], select[required="required"]').prev("label").append("<sup>*</sup>"),window.addEventListener){var kkeys=[],knm="38,38,40,40,37,39,37,39,66,65";window.addEventListener("keydown",function(e){kkeys.push(e.keyCode),0<=kkeys.toString().indexOf(knm)&&$("html").addClass("knm")},!0)}$(document).on("click",'.main a[href*="#"]:not([href="#"]):not(.collapsed):not(.collapse):not([data-toggle="tab"]), .wrap-h-content a[href*="#"]:not([href="#"]):not(.collapsed):not(.collapse):not([data-toggle="tab"])',function(e){var t=0,i=$("header").outerHeight()+$(".wrap-search").outerHeight();if(t=$(this).attr("data-offset")?$(this).attr("data-offset"):i,window.innerWidth<screenl){var n=$(".wrap-search").outerHeight();t=parseInt(t)+n}if($(".current").removeClass("current"),$(this).parent().addClass("current"),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var o=$(this.hash);if((o=o.length?o:$("[name="+this.hash.slice(1)+"]")).parents(".tab-pane")&&!o.parents(".tab-pane").hasClass("active")){var s=o.parents(".tab-pane").attr("id");$("a[data-toggle='tab'][href*='#"+s+"']").click()}o.length&&o.is(":visible")&&($("html, body").stop().animate({scrollTop:o.offset().top-t},1e3),e.preventDefault())}});